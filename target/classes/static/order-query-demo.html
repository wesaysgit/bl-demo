<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æŠ–éŸ³è®¢å•æŸ¥è¯¢Demo</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .container {
            background: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 3px solid #ff6b6b;
            padding-bottom: 10px;
        }
        
        .demo-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            background-color: #fafafa;
        }
        
        .demo-section h3 {
            color: #ff6b6b;
            margin-top: 0;
            margin-bottom: 15px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #555;
        }
        
        input[type="text"], input[type="password"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
            box-sizing: border-box;
        }
        
        button {
            background-color: #ff6b6b;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            margin-right: 10px;
            margin-bottom: 10px;
        }
        
        button:hover {
            background-color: #ff5252;
        }
        
        button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }
        
        .result {
            margin-top: 20px;
            padding: 15px;
            border-radius: 5px;
            white-space: pre-wrap;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .success {
            background-color: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
        }
        
        .error {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
        }
        
        .info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            color: #0c5460;
        }
        
        .loading {
            display: none;
            text-align: center;
            color: #666;
        }
        
        .api-info {
            background-color: #e3f2fd;
            border: 1px solid #bbdefb;
            color: #0d47a1;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        
        .api-info h4 {
            margin-top: 0;
            color: #1976d2;
        }
        
        .endpoint {
            background-color: #f5f5f5;
            padding: 5px 10px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸµ æŠ–éŸ³è®¢å•æŸ¥è¯¢Demo</h1>
        
        <div class="api-info">
            <h4>ğŸ“¡ APIæ¥å£ä¿¡æ¯</h4>
            <p>åŸºäºæŠ–éŸ³å¼€æ”¾å¹³å°æŸ¥è¯¢è®¢å•APIçš„å®Œæ•´å®ç°ï¼ŒåŒ…å«ä»¥ä¸‹åŠŸèƒ½ï¼š</p>
            <ul>
                <li>âœ… æ”¯æŒæ ¹æ®è®¢å•IDæŸ¥è¯¢è®¢å•</li>
                <li>âœ… æ”¯æŒæ ¹æ®å¤–éƒ¨è®¢å•å·æŸ¥è¯¢è®¢å•</li>
                <li>âœ… å®Œæ•´çš„è¯·æ±‚å‚æ•°éªŒè¯</li>
                <li>âœ… è¯¦ç»†çš„å“åº”æ•°æ®è§£æ</li>
                <li>âœ… å·¥å…·ç±»æ–¹æ³•æ”¯æŒ</li>
            </ul>
            <div class="endpoint">GET /douyin/demo/mock-query/by-order-id?orderId=xxx&accessToken=xxx</div>
            <div class="endpoint">GET /douyin/demo/mock-query/by-out-order-no?outOrderNo=xxx&accessToken=xxx</div>
            <div class="endpoint">POST /douyin/demo/mock-query</div>
        </div>
        
        <!-- Demo 1: æ ¹æ®è®¢å•IDæŸ¥è¯¢ -->
        <div class="demo-section">
            <h3>ğŸ” Demo 1: æ ¹æ®è®¢å•IDæŸ¥è¯¢è®¢å•</h3>
            <div class="form-group">
                <label for="orderId">è®¢å•ID:</label>
                <input type="text" id="orderId" value="azQj3yWDWi" placeholder="è¯·è¾“å…¥è®¢å•ID">
            </div>
            <div class="form-group">
                <label for="accessToken1">è®¿é—®ä»¤ç‰Œ:</label>
                <input type="text" id="accessToken1" value="mock_access_token" placeholder="è¯·è¾“å…¥è®¿é—®ä»¤ç‰Œ">
            </div>
            <button onclick="queryByOrderId()">æŸ¥è¯¢è®¢å•</button>
            <div class="loading" id="loading1">â³ æ­£åœ¨æŸ¥è¯¢...</div>
            <div class="result" id="result1" style="display: none;"></div>
        </div>
        
        <!-- Demo 2: æ ¹æ®å¤–éƒ¨è®¢å•å·æŸ¥è¯¢ -->
        <div class="demo-section">
            <h3>ğŸ“ Demo 2: æ ¹æ®å¤–éƒ¨è®¢å•å·æŸ¥è¯¢è®¢å•</h3>
            <div class="form-group">
                <label for="outOrderNo">å¤–éƒ¨è®¢å•å·:</label>
                <input type="text" id="outOrderNo" value="Ayrr0n28FB" placeholder="è¯·è¾“å…¥å¤–éƒ¨è®¢å•å·">
            </div>
            <div class="form-group">
                <label for="accessToken2">è®¿é—®ä»¤ç‰Œ:</label>
                <input type="text" id="accessToken2" value="mock_access_token" placeholder="è¯·è¾“å…¥è®¿é—®ä»¤ç‰Œ">
            </div>
            <button onclick="queryByOutOrderNo()">æŸ¥è¯¢è®¢å•</button>
            <div class="loading" id="loading2">â³ æ­£åœ¨æŸ¥è¯¢...</div>
            <div class="result" id="result2" style="display: none;"></div>
        </div>
        
        <!-- Demo 3: å®Œæ•´è¯·æ±‚å‚æ•°æŸ¥è¯¢ -->
        <div class="demo-section">
            <h3>ğŸ“‹ Demo 3: å®Œæ•´è¯·æ±‚å‚æ•°æŸ¥è¯¢è®¢å•</h3>
            <div class="form-group">
                <label for="orderId3">è®¢å•ID:</label>
                <input type="text" id="orderId3" value="azQj3yWDWi" placeholder="è¯·è¾“å…¥è®¢å•ID">
            </div>
            <div class="form-group">
                <label for="outOrderNo3">å¤–éƒ¨è®¢å•å·:</label>
                <input type="text" id="outOrderNo3" value="Ayrr0n28FB" placeholder="è¯·è¾“å…¥å¤–éƒ¨è®¢å•å·">
            </div>
            <div class="form-group">
                <label for="accessToken3">è®¿é—®ä»¤ç‰Œ:</label>
                <input type="text" id="accessToken3" value="mock_access_token" placeholder="è¯·è¾“å…¥è®¿é—®ä»¤ç‰Œ">
            </div>
            <div class="form-group">
                <label for="appId3">åº”ç”¨ID:</label>
                <input type="text" id="appId3" value="tta5f4d3493af8920701" placeholder="è¯·è¾“å…¥åº”ç”¨ID">
            </div>
            <button onclick="queryWithFullRequest()">æŸ¥è¯¢è®¢å•</button>
            <div class="loading" id="loading3">â³ æ­£åœ¨æŸ¥è¯¢...</div>
            <div class="result" id="result3" style="display: none;"></div>
        </div>
        
        <!-- Demo 4: åŠŸèƒ½æ¼”ç¤º -->
        <div class="demo-section">
            <h3>ğŸ¯ Demo 4: åŠŸèƒ½æ¼”ç¤º</h3>
            <p>ç‚¹å‡»ä¸‹é¢çš„æŒ‰é’®æŸ¥çœ‹å®Œæ•´çš„åŠŸèƒ½æ¼”ç¤ºï¼ˆåŒ…æ‹¬å·¥å…·ç±»æ–¹æ³•ä½¿ç”¨ï¼‰</p>
            <button onclick="demonstrateFeatures()">å¼€å§‹æ¼”ç¤º</button>
            <div class="loading" id="loading4">â³ æ­£åœ¨æ¼”ç¤º...</div>
            <div class="result" id="result4" style="display: none;"></div>
        </div>
    </div>

    <script>
        // æ ¹æ®è®¢å•IDæŸ¥è¯¢
        async function queryByOrderId() {
            const orderId = document.getElementById('orderId').value;
            const accessToken = document.getElementById('accessToken1').value;
            const loading = document.getElementById('loading1');
            const result = document.getElementById('result1');
            
            if (!orderId || !accessToken) {
                showResult('result1', 'error', 'âŒ è®¢å•IDå’Œè®¿é—®ä»¤ç‰Œä¸èƒ½ä¸ºç©º');
                return;
            }
            
            showLoading('loading1', true);
            hideResult('result1');
            
            try {
                const response = await fetch(`/douyin/demo/mock-query/by-order-id?orderId=${encodeURIComponent(orderId)}&accessToken=${encodeURIComponent(accessToken)}`);
                const data = await response.json();
                
                showResult('result1', 'success', JSON.stringify(data, null, 2));
            } catch (error) {
                showResult('result1', 'error', 'âŒ æŸ¥è¯¢å¤±è´¥: ' + error.message);
            } finally {
                showLoading('loading1', false);
            }
        }
        
        // æ ¹æ®å¤–éƒ¨è®¢å•å·æŸ¥è¯¢
        async function queryByOutOrderNo() {
            const outOrderNo = document.getElementById('outOrderNo').value;
            const accessToken = document.getElementById('accessToken2').value;
            
            if (!outOrderNo || !accessToken) {
                showResult('result2', 'error', 'âŒ å¤–éƒ¨è®¢å•å·å’Œè®¿é—®ä»¤ç‰Œä¸èƒ½ä¸ºç©º');
                return;
            }
            
            showLoading('loading2', true);
            hideResult('result2');
            
            try {
                const response = await fetch(`/douyin/demo/mock-query/by-out-order-no?outOrderNo=${encodeURIComponent(outOrderNo)}&accessToken=${encodeURIComponent(accessToken)}`);
                const data = await response.json();
                
                showResult('result2', 'success', JSON.stringify(data, null, 2));
            } catch (error) {
                showResult('result2', 'error', 'âŒ æŸ¥è¯¢å¤±è´¥: ' + error.message);
            } finally {
                showLoading('loading2', false);
            }
        }
        
        // å®Œæ•´è¯·æ±‚å‚æ•°æŸ¥è¯¢
        async function queryWithFullRequest() {
            const orderId = document.getElementById('orderId3').value;
            const outOrderNo = document.getElementById('outOrderNo3').value;
            const accessToken = document.getElementById('accessToken3').value;
            const appId = document.getElementById('appId3').value;
            
            if (!accessToken) {
                showResult('result3', 'error', 'âŒ è®¿é—®ä»¤ç‰Œä¸èƒ½ä¸ºç©º');
                return;
            }
            
            if (!orderId && !outOrderNo) {
                showResult('result3', 'error', 'âŒ è®¢å•IDå’Œå¤–éƒ¨è®¢å•å·è‡³å°‘éœ€è¦æä¾›ä¸€ä¸ª');
                return;
            }
            
            showLoading('loading3', true);
            hideResult('result3');
            
            try {
                const requestData = {
                    orderId: orderId || null,
                    outOrderNo: outOrderNo || null,
                    accessToken: accessToken,
                    appId: appId || null
                };
                
                const response = await fetch('/douyin/demo/mock-query', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(requestData)
                });
                
                const data = await response.json();
                showResult('result3', 'success', JSON.stringify(data, null, 2));
            } catch (error) {
                showResult('result3', 'error', 'âŒ æŸ¥è¯¢å¤±è´¥: ' + error.message);
            } finally {
                showLoading('loading3', false);
            }
        }
        
        // åŠŸèƒ½æ¼”ç¤º
        async function demonstrateFeatures() {
            showLoading('loading4', true);
            hideResult('result4');
            
            try {
                const response = await fetch('/douyin/demo/order-query');
                const result = await response.text();
                
                showResult('result4', 'info', result);
            } catch (error) {
                showResult('result4', 'error', 'âŒ æ¼”ç¤ºå¤±è´¥: ' + error.message);
            } finally {
                showLoading('loading4', false);
            }
        }
        
        // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
        function showLoading(loadingId, show) {
            const loading = document.getElementById(loadingId);
            loading.style.display = show ? 'block' : 'none';
        }
        
        // éšè—ç»“æœ
        function hideResult(resultId) {
            const result = document.getElementById(resultId);
            result.style.display = 'none';
        }
        
        // æ˜¾ç¤ºç»“æœ
        function showResult(resultId, type, content) {
            const result = document.getElementById(resultId);
            result.className = 'result ' + type;
            result.textContent = content;
            result.style.display = 'block';
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸµ æŠ–éŸ³è®¢å•æŸ¥è¯¢Demoé¡µé¢åŠ è½½å®Œæˆ');
        });
    </script>
</body>
</html>




